app_shop.vars.copModulesClasses=[],app_shop.run((async()=>{try{app_shop.fn.reinitOscopClasses=()=>{app_shop.vars.copModulesClasses?.forEach((o=>{o?.()}))},app_shop.vars.copModulesType="oscop",await(app_shop.fn.copModules?.init?.()),app_shop.fn.copModulesContact?.init?.({move:{moveSelector:'.cop__step[data-skeleton="contact"]',moveType:"replace"},afterChangeEmailCallback:app_shop.fn.copModulesRegistration?.updateLoginInput?.bind?.(app_shop.fn.copModulesRegistration)}),app_shop.fn.copModulesLogin?.init?.({move:{moveSelector:".cop_contact__wrapper",moveType:"before"},afterLoginCallback:async o=>{app_shop.fn.copModulesContact?.afterLogin?.(o),app_shop.fn.copModulesRegistration?.afterLogin?.(o),await(app_shop.fn.copModulesAddress?.afterLogin?.(o)),app_shop.fn.SmileLoginCOP?.afterLogin?.(o),app_shop.fn.copModulesSummary?.afterLogin?.(o)}}),app_shop.fn.copModulesRegistration?.init?.({move:{moveSelector:".cop_contact__wrapper",moveType:"after"},showSigninCallback:app_shop.fn.copModulesLogin?.onClickSignin?.bind?.(app_shop.fn.copModulesLogin)});const o=async()=>{document.querySelectorAll(".cop_deliveries__block").forEach((o=>o.classList.add("--loading"))),document.querySelector(".cop_payments")?.classList.add("--loading");const{shipping:o,paymentsMethod:p}=await app_shop.fn.copModules.getData({name:"region"})||{};app_shop.fn.copModulesPayments?.init?.({paymentsMethod:p}),app_shop.fn.copModulesDeliveries?.init?.({shipping:o,checkDvp:!0}),app_shop.fn.copModules?.vars?.basket?.summaryBasket?.orderDivisionPossible&&(app_shop.fn.copModulesDivision?.init?.(),app_shop.fn.copModulesProducts?.init?.())},p=o;app_shop.fn.copModulesAddress?.init?.({move:{moveSelector:'.cop__step[data-skeleton="address"]',moveType:"replace"},afterChangeRegionCallback:o,afterChangeClientTypeCallback:p}),app_shop.fn.copModulesDocuments?.init?.({move:{moveSelector:'.cop__step[data-skeleton="documents"]',moveType:"replace"}});const e={move:{moveSelector:".cop_summary__block.--content",moveType:"prepend"},afterAddCallback:app_shop.fn.copModulesSummary?.updateCosts?.bind?.(app_shop.fn.copModulesSummary),afterRemoveCallback:app_shop.fn.copModulesSummary?.updateCosts?.bind?.(app_shop.fn.copModulesSummary)};if(app_shop.fn.copModulesSummary?.init?.({move:{moveSelector:".cop__summary[data-skeleton], .summary_wrapper",moveType:"replace"},settings:app_shop.fn.copModules?.vars?.settings,basket:app_shop.fn.copModules?.vars?.basket,formSelector:".cop.--oscop",afterReady:o=>{o.classList.add("--loading"),app_shop.fn.copModulesRebateCode?.init?.(e)}}),app_shop.fn.copModulesPayments?.init?.({move:{moveSelector:'.cop__step[data-skeleton="payments"]',moveType:"replace"},clauseCallback:app_shop.fn.copModulesSummary?.updateClause?.bind?.(app_shop.fn.copModulesSummary),paymentsMethod:app_shop.fn.copModules?.vars?.paymentsMethod,updateCostCallback:app_shop.fn.copModulesSummary?.updateCosts?.bind?.(app_shop.fn.copModulesSummary),dvpCallback:app_shop.fn.copModulesDeliveries?.dvpChange?.bind?.(app_shop.fn.copModulesDeliveries),paymentsMethodsCount:4}),app_shop.fn.copModulesDeliveries?.init?.({move:{moveSelector:'.cop__step[data-skeleton="deliveries"]',moveType:"replace"},shipping:app_shop.fn.copModules?.vars.shipping,holidays:app_shop.fn.copModules?.vars.holidays,selectDefault:!0,googleApiKey:app_shop.fn.copModules?.vars?.settings?.google?.mapsApiKey,pickup:app_shop.fn.copModulesPickupPoints,updateCostCallback:app_shop.fn.copModulesSummary?.updateCosts?.bind?.(app_shop.fn.copModulesSummary),updateTimeCallback:app_shop.fn.copModulesSummary?.updateTime?.bind?.(app_shop.fn.copModulesSummary),dvpPaymentCallback:app_shop.fn.copModulesPayments?.addDvpPayment?.bind?.(app_shop.fn.copModulesPayments),formSelector:".cop.--oscop"}),app_shop.fn.copModules?.vars?.basket?.summaryBasket?.orderDivisionPossible){const o=async()=>{const{shipping:o,basket:p}=await app_shop.fn.copModules.getData({name:"division"})||{};app_shop.fn.copModulesDeliveries?.init?.({shipping:o,checkDvp:!1}),app_shop.fn.copModulesDivision?.init?.({division:o?.settings?.orderDivisionEnabled}),app_shop.fn.copModulesProducts?.init?.({basket:p,shipping:o}),document.querySelector(".cop")?.classList.remove("--loading-division"),document.querySelector(".cop_division__change")?.focus()};app_shop.fn.copModulesDivision?.init?.({division:app_shop.fn.copModules?.vars?.shipping?.settings?.orderDivisionEnabled,move:{moveSelector:".cop_deliveries__block.--now",moveType:"before"},afterDivisionCallback:o}),app_shop.fn.copModulesProducts?.init?.({division:app_shop.fn.copModules?.vars?.shipping?.settings?.orderDivisionEnabled,move:{moveSelector:".cop_deliveries__block.--now",moveType:"before"},basket:app_shop.fn.copModules?.vars?.basket,shipping:app_shop.fn.copModules?.vars?.shipping,changeDivisionDeliveryCallback:app_shop.fn.copModulesDeliveries?.changeDivision?.bind?.(app_shop.fn.copModulesDeliveries)})}app_shop.fn.copModulesRemarks?.init?.({move:{moveSelector:'.cop__step[data-skeleton="remarks"]',moveType:"replace"}}),app_shop.fn.copModules?.afterAllModulesInit?.(),app_shop.fn?.SmileLoginCOP?.init?.()}catch(o){window?.errorLog?.(o)}}),"all",".cop.--oscop",!0);