function P(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function I(e,a){void 0===e&&(e={}),void 0===a&&(a={}),Object.keys(a).forEach((t=>{typeof e[t]>"u"?e[t]=a[t]:P(a[t])&&P(e[t])&&Object.keys(a[t]).length>0&&I(e[t],a[t])}))}const R={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function M(){const e=typeof document<"u"?document:{};return I(e,R),e}const U={document:R,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>typeof setTimeout>"u"?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function $(){const e=typeof window<"u"?window:{};return I(e,U),e}function z(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function V(e,a){return setTimeout(e,a)}function j(e,a){void 0===a&&(a="");const t=[...e.children];return e instanceof HTMLSlotElement&&t.push(...e.assignedElements()),a?t.filter((e=>e.matches(a))):t}function B(e,a){void 0===a&&(a=[]);const t=document.createElement(e);return t.classList.add(...Array.isArray(a)?a:z(a)),t}function F(e){const a=$(),t=M(),r=e.getBoundingClientRect(),s=t.body,l=e.clientTop||s.clientTop||0,o=e.clientLeft||s.clientLeft||0,n=e===a?a.scrollY:e.scrollTop,i=e===a?a.scrollX:e.scrollLeft;return{top:r.top+n-l,left:r.left+i-o}}function Q(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}function X(e,a,t,r){return e.params.createElements&&Object.keys(r).forEach((s=>{if(!t[s]&&!0===t.auto){let l=j(e.el,`.${r[s]}`)[0];l||(l=B("div",r[s]),l.className=r[s],e.el.append(l)),t[s]=l,a[s]=l}})),t}function Y(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function G(e){let{swiper:a,extendParams:t,on:r,emit:s}=e;const l=M();let o,n,i,c,p=!1,d=null,u=null;function m(){if(!a.params.scrollbar.el||!a.scrollbar.el)return;const{scrollbar:e,rtlTranslate:t}=a,{dragEl:r,el:s}=e,l=a.params.scrollbar,o=a.params.loop?a.progressLoop:a.progress;let c=n,p=(i-n)*o;t?(p=-p,p>0?(c=n-p,p=0):-p+n>i&&(c=i+p)):p<0?(c=n+p,p=0):p+n>i&&(c=i-p),a.isHorizontal()?(r.style.transform=`translate3d(${p}px, 0, 0)`,r.style.width=`${c}px`):(r.style.transform=`translate3d(0px, ${p}px, 0)`,r.style.height=`${c}px`),l.hide&&(clearTimeout(d),s.style.opacity=1,d=setTimeout((()=>{s.style.opacity=0,s.style.transitionDuration="400ms"}),1e3))}function h(){if(!a.params.scrollbar.el||!a.scrollbar.el)return;const{scrollbar:e}=a,{dragEl:t,el:r}=e;t.style.width="",t.style.height="",i=a.isHorizontal()?r.offsetWidth:r.offsetHeight,c=a.size/(a.virtualSize+a.params.slidesOffsetBefore-(a.params.centeredSlides?a.snapGrid[0]:0)),n="auto"===a.params.scrollbar.dragSize?i*c:parseInt(a.params.scrollbar.dragSize,10),a.isHorizontal()?t.style.width=`${n}px`:t.style.height=`${n}px`,r.style.display=c>=1?"none":"",a.params.scrollbar.hide&&(r.style.opacity=0),a.params.watchOverflow&&a.enabled&&e.el.classList[a.isLocked?"add":"remove"](a.params.scrollbar.lockClass)}function b(e){return a.isHorizontal()?e.clientX:e.clientY}function y(e){const{scrollbar:t,rtlTranslate:r}=a,{el:s}=t;let l;l=(b(e)-F(s)[a.isHorizontal()?"left":"top"]-(null!==o?o:n/2))/(i-n),l=Math.max(Math.min(l,1),0),r&&(l=1-l);const c=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*l;a.updateProgress(c),a.setTranslate(c),a.updateActiveIndex(),a.updateSlidesClasses()}function g(e){const t=a.params.scrollbar,{scrollbar:r,wrapperEl:l}=a,{el:n,dragEl:i}=r;p=!0,o=e.target===i?b(e)-e.target.getBoundingClientRect()[a.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),l.style.transitionDuration="100ms",i.style.transitionDuration="100ms",y(e),clearTimeout(u),n.style.transitionDuration="0ms",t.hide&&(n.style.opacity=1),a.params.cssMode&&(a.wrapperEl.style["scroll-snap-type"]="none"),s("scrollbarDragStart",e)}function f(e){const{scrollbar:t,wrapperEl:r}=a,{el:l,dragEl:o}=t;p&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,y(e),r.style.transitionDuration="0ms",l.style.transitionDuration="0ms",o.style.transitionDuration="0ms",s("scrollbarDragMove",e))}function v(e){const t=a.params.scrollbar,{scrollbar:r,wrapperEl:l}=a,{el:o}=r;p&&(p=!1,a.params.cssMode&&(a.wrapperEl.style["scroll-snap-type"]="",l.style.transitionDuration=""),t.hide&&(clearTimeout(u),u=V((()=>{o.style.opacity=0,o.style.transitionDuration="400ms"}),1e3)),s("scrollbarDragEnd",e),t.snapOnRelease&&a.slideToClosest())}function E(e){const{scrollbar:t,params:r}=a,s=t.el;if(!s)return;const o=s,n=!!r.passiveListeners&&{passive:!1,capture:!1},i=!!r.passiveListeners&&{passive:!0,capture:!1};if(!o)return;const c="on"===e?"addEventListener":"removeEventListener";o[c]("pointerdown",g,n),l[c]("pointermove",f,n),l[c]("pointerup",v,i)}function S(){const{scrollbar:e,el:t}=a;a.params.scrollbar=X(a,a.originalParams.scrollbar,a.params.scrollbar,{el:"swiper-scrollbar"});const r=a.params.scrollbar;if(!r.el)return;let s,o;if("string"==typeof r.el&&a.isElement&&(s=a.el.querySelector(r.el)),s||"string"!=typeof r.el)s||(s=r.el);else if(s=l.querySelectorAll(r.el),!s.length)return;a.params.uniqueNavElements&&"string"==typeof r.el&&s.length>1&&1===t.querySelectorAll(r.el).length&&(s=t.querySelector(r.el)),s.length>0&&(s=s[0]),s.classList.add(a.isHorizontal()?r.horizontalClass:r.verticalClass),s&&(o=s.querySelector(Y(a.params.scrollbar.dragClass)),o||(o=B("div",a.params.scrollbar.dragClass),s.append(o))),Object.assign(e,{el:s,dragEl:o}),r.draggable&&(!a.params.scrollbar.el||!a.scrollbar.el||E("on")),s&&s.classList[a.enabled?"remove":"add"](...z(a.params.scrollbar.lockClass))}function w(){const e=a.params.scrollbar,t=a.scrollbar.el;t&&t.classList.remove(...z(a.isHorizontal()?e.horizontalClass:e.verticalClass)),!a.params.scrollbar.el||!a.scrollbar.el||E("off")}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),a.scrollbar={el:null,dragEl:null},r("changeDirection",(()=>{if(!a.scrollbar||!a.scrollbar.el)return;const e=a.params.scrollbar;let{el:t}=a.scrollbar;t=Q(t),t.forEach((t=>{t.classList.remove(e.horizontalClass,e.verticalClass),t.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),r("init",(()=>{!1===a.params.scrollbar.enabled?C():(S(),h(),m())})),r("update resize observerUpdate lock unlock changeDirection",(()=>{h()})),r("setTranslate",(()=>{m()})),r("setTransition",((e,t)=>{!function(e){!a.params.scrollbar.el||!a.scrollbar.el||(a.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(t)})),r("enable disable",(()=>{const{el:e}=a.scrollbar;e&&e.classList[a.enabled?"remove":"add"](...z(a.params.scrollbar.lockClass))})),r("destroy",(()=>{w()}));const C=()=>{a.el.classList.add(...z(a.params.scrollbar.scrollbarDisabledClass)),a.scrollbar.el&&a.scrollbar.el.classList.add(...z(a.params.scrollbar.scrollbarDisabledClass)),w()};Object.assign(a.scrollbar,{enable:()=>{a.el.classList.remove(...z(a.params.scrollbar.scrollbarDisabledClass)),a.scrollbar.el&&a.scrollbar.el.classList.remove(...z(a.params.scrollbar.scrollbarDisabledClass)),S(),h(),m()},disable:C,updateSize:h,setTranslate:m,init:S,destroy:w})}function J(e){let{swiper:a,extendParams:t,on:r}=e;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let s=!1,l={};const o=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),n=e=>{const a=$();let t;t=e?new URL(e):a.location;const r=t.pathname.slice(1).split("/").filter((e=>""!==e)),s=r.length;return{key:r[s-2],value:r[s-1]}},i=(e,t)=>{const r=$();if(!s||!a.params.history.enabled)return;let l;l=a.params.url?new URL(a.params.url):r.location;const n=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${t}"]`):a.slides[t];let i=o(n.getAttribute("data-history"));if(a.params.history.root.length>0){let t=a.params.history.root;"/"===t[t.length-1]&&(t=t.slice(0,t.length-1)),i=`${t}/${e?`${e}/`:""}${i}`}else l.pathname.includes(e)||(i=`${e?`${e}/`:""}${i}`);a.params.history.keepQuery&&(i+=l.search);const c=r.history.state;c&&c.value===i||(a.params.history.replaceState?r.history.replaceState({value:i},null,i):r.history.pushState({value:i},null,i))},c=(e,t,r)=>{if(t)for(let s=0,l=a.slides.length;s<l;s+=1){const l=a.slides[s];if(o(l.getAttribute("data-history"))===t){const t=a.getSlideIndex(l);a.slideTo(t,e,r)}}else a.slideTo(0,e,r)},p=()=>{l=n(a.params.url),c(a.params.speed,l.value,!1)};r("init",(()=>{a.params.history.enabled&&(()=>{const e=$();if(a.params.history){if(!e.history||!e.history.pushState)return a.params.history.enabled=!1,void(a.params.hashNavigation.enabled=!0);if(s=!0,l=n(a.params.url),!l.key&&!l.value)return void(a.params.history.replaceState||e.addEventListener("popstate",p));c(0,l.value,a.params.runCallbacksOnInit),a.params.history.replaceState||e.addEventListener("popstate",p)}})()})),r("destroy",(()=>{a.params.history.enabled&&(()=>{const e=$();a.params.history.replaceState||e.removeEventListener("popstate",p)})()})),r("transitionEnd _freeModeNoMomentumRelease",(()=>{s&&i(a.params.history.key,a.activeIndex)})),r("slideChange",(()=>{s&&a.params.cssMode&&i(a.params.history.key,a.activeIndex)}))}function K(e){let{swiper:a,extendParams:t,emit:r,on:s}=e,l=!1;const o=M(),n=$();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,t){if(a.virtual&&a.params.virtual.enabled){const e=a.slides.filter((e=>e.getAttribute("data-hash")===t))[0];return e?parseInt(e.getAttribute("data-swiper-slide-index"),10):0}return a.getSlideIndex(j(a.slidesEl,`.${a.params.slideClass}[data-hash="${t}"], swiper-slide[data-hash="${t}"]`)[0])}}});const i=()=>{r("hashChange");const e=o.location.hash.replace("#",""),t=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex];if(e!==(t?t.getAttribute("data-hash"):"")){const t=a.params.hashNavigation.getSlideIndex(a,e);if(typeof t>"u"||Number.isNaN(t))return;a.slideTo(t)}},c=()=>{if(!l||!a.params.hashNavigation.enabled)return;const e=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex],t=e?e.getAttribute("data-hash")||e.getAttribute("data-history"):"";a.params.hashNavigation.replaceState&&n.history&&n.history.replaceState?(n.history.replaceState(null,null,`#${t}`||""),r("hashSet")):(o.location.hash=t||"",r("hashSet"))};s("init",(()=>{a.params.hashNavigation.enabled&&(()=>{if(!a.params.hashNavigation.enabled||a.params.history&&a.params.history.enabled)return;l=!0;const e=o.location.hash.replace("#","");if(e){const t=a.params.hashNavigation.getSlideIndex(a,e);a.slideTo(t||0,0,a.params.runCallbacksOnInit,!0)}a.params.hashNavigation.watchState&&n.addEventListener("hashchange",i)})()})),s("destroy",(()=>{a.params.hashNavigation.enabled&&a.params.hashNavigation.watchState&&n.removeEventListener("hashchange",i)})),s("transitionEnd _freeModeNoMomentumRelease",(()=>{l&&c()})),s("slideChange",(()=>{l&&a.params.cssMode&&c()}))}export{K as HashNavigation,J as History,G as Scrollbar};