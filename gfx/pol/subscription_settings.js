app_shop.run((async()=>{await(app_shop.fn.subscr?.init?.()),app_shop.fn.subscrReturn?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="return"]',moveType:"replace"}}),app_shop.fn.subscrInfo?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="info"]',moveType:"replace"},view:app_shop.fn.subscr?.vars?.view,orders:app_shop.fn.subscr?.vars?.orders?.subscriptionOrders}),app_shop.fn.subscrStatus?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="status"]',moveType:"replace"},status:app_shop.fn.subscr?.vars?.view?.status}),app_shop.fn.subscrProducts?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="products"]',moveType:"replace"},view:app_shop.fn.subscr?.vars?.view,products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost,orders:app_shop.fn.subscr?.vars?.orders?.subscriptionOrders,afterChangeProductVersionCallback:async()=>{app_shop.fn.subscrPeriod?.periodElement?.classList.add("--loading"),await(app_shop.fn.subscr?.updateData({type:"init"})),app_shop.fn.subscrProducts?.init?.({products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost}),app_shop.fn.subscrPeriod?.init?.({possibleDaysInPeriod:app_shop.fn.subscr?.vars?.view?.possibleDaysInPeriod}),app_shop.fn.subscrDeliveries?.init?.({products:app_shop.fn.subscr?.vars?.products})},afterRemoveProductCallback:async()=>{app_shop.fn.subscr?.scrollToElement?.({element:app_shop.fn.subscrProducts?.productsElement}),app_shop.fn.subscrPeriod?.periodElement?.classList.add("--loading"),await(app_shop.fn.subscr?.updateData({type:"init"})),app_shop.fn.subscrProducts?.init?.({products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost}),app_shop.fn.subscrPeriod?.init?.({possibleDaysInPeriod:app_shop.fn.subscr?.vars?.view?.possibleDaysInPeriod}),app_shop.fn.subscrDeliveries?.init?.({products:app_shop.fn.subscr?.vars?.products})},afterChangeQuantityCallback:async()=>{await(app_shop.fn.subscr?.updateData({type:"products"})),app_shop.fn.subscrProducts?.init?.({products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost}),app_shop.fn.subscrDeliveries?.init?.({products:app_shop.fn.subscr?.vars?.products})},afterAcceptNewPriceCallback:()=>{app_shop.fn.subscr.clearCache(),window.location.reload()}}),app_shop.fn.subscrAdd?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="add"]',moveType:"replace"},status:app_shop.fn.subscr?.vars?.view?.status,period:app_shop.fn.subscr?.vars?.view?.daysInPeriod,subscrId:app_shop.fn.subscr?.vars?.view?.id,ordersCount:app_shop.fn.subscr?.vars?.view?.subscriptionInfoData?.ordersCount,rebatesThresholds:app_shop.fn.subscr?.vars?.view?.rebatesThresholds,canEditBasket:app_shop.fn.subscr?.vars?.view?.subscriptionOptions?.canCustomerEditSubscriptionBasket,afterAddProductCallback:async()=>{app_shop.fn.subscrProducts?.productsElement?.classList.add("--loading"),app_shop.fn.subscrPeriod?.periodElement?.classList.add("--loading"),app_shop.fn.subscr?.scrollToElement?.({element:app_shop.fn.subscrProducts?.productsElement}),await(app_shop.fn.subscr?.updateData({type:"init"})),app_shop.fn.subscrProducts?.init?.({products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost}),app_shop.fn.subscrPeriod?.init?.({possibleDaysInPeriod:app_shop.fn.subscr?.vars?.view?.possibleDaysInPeriod}),app_shop.fn.subscrDeliveries?.init?.({products:app_shop.fn.subscr?.vars?.products})},afterSearchCallback:async()=>{app_shop.fn.subscr?.scrollToElement?.({element:app_shop.fn.subscrAdd?.addElement}),app_shop.fn.subscrAdd?.init?.()}}),app_shop.fn.subscrRebates?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="rebates"]',moveType:"replace"},status:app_shop.fn.subscr?.vars?.view?.status,ordersCount:app_shop.fn.subscr?.vars?.view?.subscriptionInfoData?.ordersCount,rebatesThresholds:app_shop.fn.subscr?.vars?.view?.rebatesThresholds}),app_shop.fn.subscrRenewals?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="renewals"]',moveType:"replace"},ordersData:app_shop.fn.subscr?.vars?.orders}),app_shop.fn.subscrCode?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="code"]',moveType:"replace"},status:app_shop.fn.subscr?.vars?.view?.status,rebateCodeData:app_shop.fn.subscr?.vars?.view?.subscriptionRebateCode,subscrId:app_shop.fn.subscr?.vars?.view?.id,afterAddCallback:async()=>{app_shop.fn.subscrProducts?.productsElement?.classList.add("--loading"),await(app_shop.fn.subscr?.updateData({type:"init"})),app_shop.fn.subscrProducts?.init?.({products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost}),app_shop.fn.subscrCode?.init?.({rebateCodeData:app_shop.fn.subscr?.vars?.view?.subscriptionRebateCode})},afterRemoveCallback:async()=>{app_shop.fn.subscrProducts?.productsElement?.classList.add("--loading"),await(app_shop.fn.subscr?.updateData({type:"init"})),app_shop.fn.subscrProducts?.init?.({products:app_shop.fn.subscr?.vars?.products,basketCost:app_shop.fn.subscr?.vars?.basketCost}),app_shop.fn.subscrCode?.init?.({rebateCodeData:app_shop.fn.subscr?.vars?.view?.subscriptionRebateCode})}}),app_shop.fn.subscrUpcoming?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="upcoming"]',moveType:"replace"},view:app_shop.fn.subscr?.vars?.view,orders:app_shop.fn.subscr?.vars?.orders?.subscriptionOrders,afterChangeDateCallback:async()=>{await(app_shop.fn.subscr?.updateData({type:"view"})),app_shop.fn.subscrUpcoming?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrDeliveries?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrInfo?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrProducts?.init?.({view:app_shop.fn.subscr?.vars?.view})},afterChangeStatusCallback:async()=>{app_shop.fn.subscr.clearCache(),window.location.reload()}}),app_shop.fn.subscrPeriod?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="period"]',moveType:"replace"},status:app_shop.fn.subscr?.vars?.view?.status,period:app_shop.fn.subscr?.vars?.view?.daysInPeriod,subscrId:app_shop.fn.subscr?.vars?.view?.id,possibleDaysInPeriod:app_shop.fn.subscr?.vars?.view?.possibleDaysInPeriod,afterChangePeriodCallback:async()=>{await(app_shop.fn.subscr?.updateData({type:"view"})),app_shop.fn.subscrPeriod?.init?.({period:app_shop.fn.subscr?.vars?.view?.daysInPeriod}),app_shop.fn.subscrUpcoming?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrAdd?.init?.({period:app_shop.fn.subscr?.vars?.view?.daysInPeriod}),app_shop.fn.subscrProducts?.init?.({view:app_shop.fn.subscr?.vars?.view})}}),app_shop.fn.subscrAddress?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="address"]',moveType:"replace"},view:app_shop.fn.subscr?.vars?.view,pickup:app_shop.fn.subscrPickupPoints,afterEditClientDataCallback:async()=>{app_shop.fn.subscr?.updateData({type:"view"})},afterChangePickupPointCallback:async()=>{await(app_shop.fn.subscr?.updateData({type:"view"})),app_shop.fn.subscrAddress?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrDeliveries?.init?.({view:app_shop.fn.subscr?.vars?.view})}}),app_shop.fn.subscrPayments?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="payments"]',moveType:"replace"},view:app_shop.fn.subscr?.vars?.view,basketCost:app_shop.fn.subscr?.vars?.basketCost,orders:app_shop.fn.subscr?.vars?.orders?.subscriptionOrders,afterSuccessPaymentCallback:async()=>{app_shop.fn.subscrPayments?.paymentsElement?.classList.add("--loading"),await(app_shop.fn.subscr?.updateData({type:"view"})),app_shop.fn.subscrPayments?.init?.({view:app_shop.fn.subscr?.vars?.view})}}),app_shop.fn.subscrDeliveries?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="deliveries"]',moveType:"replace"},view:app_shop.fn.subscr?.vars?.view,pickup:app_shop.fn.subscrPickupPoints,products:app_shop.fn.subscr?.vars?.products,afterChangeDeliveryCallback:async()=>{await(app_shop.fn.subscr?.updateData({type:"init"})),app_shop.fn.subscrDeliveries?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrAddress?.init?.({view:app_shop.fn.subscr?.vars?.view}),app_shop.fn.subscrProducts?.init?.({basketCost:app_shop.fn.subscr?.vars?.basketCost})}}),app_shop.fn.subscrRemarks?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="remarks"]',moveType:"replace"},subscrId:app_shop.fn.subscr?.vars?.view?.id,status:app_shop.fn.subscr?.vars?.view?.status,courierNote:app_shop.fn.subscr?.vars?.view?.subscriptionOrderData?.orderDelivery?.courierNote,subscriptionNote:app_shop.fn.subscr?.vars?.view?.subscriptionOrderData?.subscriptionNote,afterChangeRemarkCallback:async()=>{await(app_shop.fn.subscr?.updateData({type:"view"})),app_shop.fn.subscrRemarks?.init?.({courierNote:app_shop.fn.subscr?.vars?.view?.subscriptionOrderData?.orderDelivery?.courierNote,subscriptionNote:app_shop.fn.subscr?.vars?.view?.subscriptionOrderData?.subscriptionNote})}}),app_shop.fn.subscrUnsubscribe?.init?.({move:{moveSelector:'.subscr__step[data-skeleton="unsubscribe"]',moveType:"replace"},subscrId:app_shop.fn.subscr?.vars?.view?.id,status:app_shop.fn.subscr?.vars?.view?.status,canCustomerHoldOffSubscription:app_shop.fn.subscr?.vars?.view?.subscriptionOptions?.canCustomerHoldOffSubscription,afterChangeStatusCallback:async()=>{app_shop.fn.subscr.clearCache(),window.location.reload()}})}),"all",".subscr");