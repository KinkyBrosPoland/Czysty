const generateHtml=e=>{const a=document.querySelector('.affiliate.--html textarea[name="output"]'),t=document.getElementById("affiliate__link").value,l=document.getElementById("affiliate__link_name").value;let{affiliate:i}={...a.dataset};i=void 0!==app_shop.vars.user?app_shop.vars.user.client_id:i;const n=`${t}${t.match(/\?/)?"&affiliate":"?affiliate"}=${i}`;if("#generateHtmlCode"===e){const e=document.querySelector('.affiliate.--html input[name="banner"]:checked'),{baseurl:f}={...a.dataset};"swf"===e.value.split(".")[1]?a.value=`<object id="linkicon" type="application/x-shockwave-flash" data="${f}${e.value}" width="${e.nextElementSibling.dataset.width}" height="${e.nextElementSibling.dataset.height}"><param name="flashvars" value="clickTag=' + link+affiliate_name+'%3D'+affiliate + '%26affsource%3Dflash%26flash%3Dtrue" /><param name="movie" value="${f}${e.value}" /><param name="bgcolor" value="#FFFFFF" /><param name="WMode" value="Opaque" /><embed src="${f}${e.value}" quality=high bgcolor=#ffffff width="${e.nextElementSibling.dataset.width}" height="${e.nextElementSibling.dataset.height}" name="baner" align="" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="clickTag=${t}${t.match(/\?/)?"&affiliate":"?affiliate"}%3D${i}%26affsource%3Dflash%26flash%3Dtrue"></embed>`:a.value=`<a href="${n}&banner=true" target="_blank"><img src="${f}${e.value}" alt="${l}" /></a>`}else"#generateHtmlUrl"===e?a.value=n:"#generateHtmlLink"===e&&(a.value=`<a href="${n}" target="_blank">${l}</a>`)};app_shop.run((function(){document.querySelectorAll(".affiliate.--html .affiliate__button").forEach((e=>{e.addEventListener("click",(()=>{generateHtml(e.getAttribute("href"))}))}))}),"all",".affiliate.--html");