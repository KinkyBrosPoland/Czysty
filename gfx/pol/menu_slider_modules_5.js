function G(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function H(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((i=>{typeof e[i]>"u"?e[i]=t[i]:G(t[i])&&G(e[i])&&Object.keys(t[i]).length>0&&H(e[i],t[i])}))}const W={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function U(){const e=typeof document<"u"?document:{};return H(e,W),e}function J(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function Q(e,t){void 0===t&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:J(t)),i}function X(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function c(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}function z(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Y(e){let{swiper:t,extendParams:i,on:a}=e;i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let n,s,r=null,l=(new Date).getTime();function o(e){const t=r;0!==t.length&&(t.innerHTML="",t.innerHTML=e)}function d(e){(e=c(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function p(e){(e=c(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function u(e,t){(e=c(e)).forEach((e=>{e.setAttribute("role",t)}))}function g(e,t){(e=c(e)).forEach((e=>{e.setAttribute("aria-roledescription",t)}))}function f(e,t){(e=c(e)).forEach((e=>{e.setAttribute("aria-label",t)}))}function m(e){(e=c(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function h(e){(e=c(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function v(e){if(13!==e.keyCode&&32!==e.keyCode)return;const i=t.params.a11y,a=e.target;if(!t.pagination||!t.pagination.el||a!==t.pagination.el&&!t.pagination.el.contains(e.target)||e.target.matches(z(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const e=c(t.navigation.prevEl);c(t.navigation.nextEl).includes(a)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?o(i.lastSlideMessage):o(i.nextSlideMessage)),e.includes(a)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?o(i.firstSlideMessage):o(i.prevSlideMessage))}t.pagination&&a.matches(z(t.params.pagination.bulletClass))&&a.click()}}function b(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function E(){return b()&&t.params.pagination.clickable}const y=(e,t,i)=>{d(e),"BUTTON"!==e.tagName&&(u(e,"button"),e.addEventListener("keydown",v)),f(e,i),function(e,t){(e=c(e)).forEach((e=>{e.setAttribute("aria-controls",t)}))}(e,t)},M=e=>{s&&s!==e.target&&!s.contains(e.target)&&(n=!0),t.a11y.clicked=!0},w=()=>{n=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},L=e=>{l=(new Date).getTime()},S=e=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus||(new Date).getTime()-l<100)return;const i=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!i||!t.slides.includes(i))return;s=i;const a=t.slides.indexOf(i)===t.activeIndex,r=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(i);a||r||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame((()=>{n||(t.params.loop?t.slideToLoop(parseInt(i.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(i),0),n=!1)})))},x=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&g(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&u(t.slides,e.slideRole);const i=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((a,n)=>{const s=t.params.loop?parseInt(a.getAttribute("data-swiper-slide-index"),10):n;f(a,e.slideLabelMessage.replace(/\{\{index\}\}/,s+1).replace(/\{\{slidesLength\}\}/,i))}))},A=()=>{const e=t.params.a11y;t.el.append(r);const i=t.el;e.containerRoleDescriptionMessage&&g(i,e.containerRoleDescriptionMessage),e.containerMessage&&f(i,e.containerMessage);const a=t.wrapperEl,n=e.id||a.getAttribute("id")||`swiper-wrapper-${function(e){return"x".repeat(e).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}(16)}`,s=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";(function(e,t){(e=c(e)).forEach((e=>{e.setAttribute("id",t)}))})(a,n),function(e,t){(e=c(e)).forEach((e=>{e.setAttribute("aria-live",t)}))}(a,s),x();let{nextEl:l,prevEl:o}=t.navigation?t.navigation:{};l=c(l),o=c(o),l&&l.forEach((t=>y(t,n,e.nextSlideMessage))),o&&o.forEach((t=>y(t,n,e.prevSlideMessage))),E()&&c(t.pagination.el).forEach((e=>{e.addEventListener("keydown",v)})),U().addEventListener("visibilitychange",L),t.el.addEventListener("focus",S,!0),t.el.addEventListener("focus",S,!0),t.el.addEventListener("pointerdown",M,!0),t.el.addEventListener("pointerup",w,!0)};a("beforeInit",(()=>{r=Q("span",t.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")})),a("afterInit",(()=>{t.params.a11y.enabled&&A()})),a("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{t.params.a11y.enabled&&x()})),a("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:i}=t.navigation;i&&(t.isBeginning?(m(i),p(i)):(h(i),d(i))),e&&(t.isEnd?(m(e),p(e)):(h(e),d(e)))}()})),a("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;b()&&t.pagination.bullets.forEach((i=>{t.params.pagination.clickable&&(d(i),t.params.pagination.renderBullet||(u(i,"button"),f(i,e.paginationBulletMessage.replace(/\{\{index\}\}/,X(i)+1)))),i.matches(z(t.params.pagination.bulletActiveClass))?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current")}))}()})),a("destroy",(()=>{t.params.a11y.enabled&&function(){r&&r.remove();let{nextEl:e,prevEl:i}=t.navigation?t.navigation:{};e=c(e),i=c(i),e&&e.forEach((e=>e.removeEventListener("keydown",v))),i&&i.forEach((e=>e.removeEventListener("keydown",v))),E()&&c(t.pagination.el).forEach((e=>{e.removeEventListener("keydown",v)})),U().removeEventListener("visibilitychange",L),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",S,!0),t.el.removeEventListener("pointerdown",M,!0),t.el.removeEventListener("pointerup",w,!0))}()}))}function Z(e){let t,i,a,n,{swiper:s,extendParams:r,on:l}=e;r({grid:{rows:1,fill:"column"}});const o=()=>{let e=s.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*s.size:"string"==typeof e&&(e=parseFloat(e)),e};l("init",(()=>{n=s.params.grid&&s.params.grid.rows>1})),l("update",(()=>{const{params:e,el:t}=s,i=e.grid&&e.grid.rows>1;n&&!i?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),a=1,s.emitContainerClasses()):!n&&i&&(t.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),s.emitContainerClasses()),n=i})),s.grid={initSlides:e=>{const{slidesPerView:n}=s.params,{rows:r,fill:l}=s.params.grid,o=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:e.length;a=Math.floor(o/r),t=Math.floor(o/r)===o/r?o:Math.ceil(o/r)*r,"auto"!==n&&"row"===l&&(t=Math.max(t,n*r)),i=t/r},unsetSlides:()=>{s.slides&&s.slides.forEach((e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[s.getDirectionLabel("margin-top")]="")}))},updateSlide:(e,n,r)=>{const{slidesPerGroup:l}=s.params,c=o(),{rows:d,fill:p}=s.params.grid,u=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:r.length;let g,f,m;if("row"===p&&l>1){const i=Math.floor(e/(l*d)),a=e-d*l*i,s=0===i?l:Math.min(Math.ceil((u-i*d*l)/d),l);m=Math.floor(a/s),f=a-m*s+i*l,g=f+m*t/d,n.style.order=g}else"column"===p?(f=Math.floor(e/d),m=e-f*d,(f>a||f===a&&m===d-1)&&(m+=1,m>=d&&(m=0,f+=1))):(m=Math.floor(e/i),f=e-m*i);n.row=m,n.column=f,n.style.height=`calc((100% - ${(d-1)*c}px) / ${d})`,n.style[s.getDirectionLabel("margin-top")]=0!==m?c&&`${c}px`:"",n.swiperSlideGridSet=!0},updateWrapperSize:(e,i)=>{const{centeredSlides:a,roundLengths:n}=s.params,r=o(),{rows:l}=s.params.grid;if(s.virtualSize=(e+r)*t,s.virtualSize=Math.ceil(s.virtualSize/l)-r,s.params.cssMode||(s.wrapperEl.style[s.getDirectionLabel("width")]=`${s.virtualSize+r}px`),a){const e=[];for(let t=0;t<i.length;t+=1){let a=i[t];n&&(a=Math.floor(a)),i[t]<s.virtualSize+i[0]&&e.push(a)}i.splice(0,i.length),i.push(...e)}}}}export{Y as A11y,Z as Grid};