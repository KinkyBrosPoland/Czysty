function k(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function I(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function G(e,t){const s=[...e.children];return e instanceof HTMLSlotElement&&s.push(...e.assignedElements()),s.filter((e=>e.matches(t)))}function R(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:k(t)),s}function L(e,t){t&&e.addEventListener("transitionend",(function s(a){a.target===e&&(t.call(e,a),e.removeEventListener("transitionend",s))}))}function Y(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}function Z(e){let{swiper:t,extendParams:s,on:a}=e;s({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",i=(e,s)=>{const{rtl:a}=t,r=a?-1:1,i=e.getAttribute("data-swiper-parallax")||"0";let o=e.getAttribute("data-swiper-parallax-x"),l=e.getAttribute("data-swiper-parallax-y");const n=e.getAttribute("data-swiper-parallax-scale"),d=e.getAttribute("data-swiper-parallax-opacity"),p=e.getAttribute("data-swiper-parallax-rotate");if(o||l?(o=o||"0",l=l||"0"):t.isHorizontal()?(o=i,l="0"):(l=i,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*s*r+"%":o*s*r+"px",l=l.indexOf("%")>=0?parseInt(l,10)*s+"%":l*s+"px",typeof d<"u"&&null!==d){const t=d-(d-1)*(1-Math.abs(s));e.style.opacity=t}let c=`translate3d(${o}, ${l}, 0px)`;if(typeof n<"u"&&null!==n){c+=` scale(${n-(n-1)*(1-Math.abs(s))})`}if(p&&typeof p<"u"&&null!==p){c+=` rotate(${p*s*-1}deg)`}e.style.transform=c},o=()=>{const{el:e,slides:s,progress:a,snapGrid:o,isElement:l}=t,n=G(e,r);t.isElement&&n.push(...G(t.hostEl,r)),n.forEach((e=>{i(e,a)})),s.forEach(((e,s)=>{let l=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(l+=Math.ceil(s/2)-a*(o.length-1)),l=Math.min(Math.max(l,-1),1),e.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach((e=>{i(e,l)}))}))};a("beforeInit",(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),a("init",(()=>{t.params.parallax.enabled&&o()})),a("setTranslate",(()=>{t.params.parallax.enabled&&o()})),a("setTransition",((e,s)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{el:s,hostEl:a}=t,i=[...s.querySelectorAll(r)];t.isElement&&i.push(...a.querySelectorAll(r)),i.forEach((t=>{let s=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),t.style.transitionDuration=`${s}ms`}))}(s)}))}function X(e){const{effect:t,swiper:s,on:a,setTranslate:r,setTransition:i,overwriteParams:o,perspective:l,recreateShadows:n,getEffectParams:d}=e;let p;a("beforeInit",(()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),l&&l()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=o?o():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)})),a("setTranslate",(()=>{s.params.effect===t&&r()})),a("setTransition",((e,a)=>{s.params.effect===t&&i(a)})),a("transitionEnd",(()=>{if(s.params.effect===t&&n){if(!d||!d().slideShadows)return;s.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),n()}})),a("virtualUpdate",(()=>{s.params.effect===t&&(s.slides.length||(p=!0),requestAnimationFrame((()=>{p&&s.slides&&s.slides.length&&(r(),p=!1)})))}))}function V(e,t){const s=I(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function B(e){let{swiper:t,duration:s,transformElements:a,allSlides:r}=e;const{activeIndex:i}=t;if(t.params.virtualTranslate&&0!==s){let e,s=!1;e=r?a:a.filter((e=>{const s=e.classList.contains("swiper-slide-transform")?(e=>e.parentElement?e.parentElement:t.slides.filter((t=>t.shadowRoot&&t.shadowRoot===e.parentNode))[0])(e):e;return t.getSlideIndex(s)===i})),e.forEach((e=>{L(e,(()=>{if(s||!t||t.destroyed)return;s=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function j(e){let{swiper:t,extendParams:s,on:a}=e;s({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(e,t,s)=>{let a=s?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),r=s?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=R("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(s?"left":"top")).split(" ")),e.append(a)),r||(r=R("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(s?"right":"bottom")).split(" ")),e.append(r)),a&&(a.style.opacity=Math.max(-t,0)),r&&(r.style.opacity=Math.max(t,0))};X({effect:"cube",swiper:t,on:a,setTranslate:()=>{const{el:e,wrapperEl:s,slides:a,width:i,height:o,rtlTranslate:l,size:n,browser:d}=t,p=Y(t),c=t.params.cubeEffect,f=t.isHorizontal(),h=t.virtual&&t.params.virtual.enabled;let w,m=0;c.shadow&&(f?(w=t.wrapperEl.querySelector(".swiper-cube-shadow"),w||(w=R("div","swiper-cube-shadow"),t.wrapperEl.append(w)),w.style.height=`${i}px`):(w=e.querySelector(".swiper-cube-shadow"),w||(w=R("div","swiper-cube-shadow"),e.append(w))));for(let e=0;e<a.length;e+=1){const t=a[e];let s=e;h&&(s=parseInt(t.getAttribute("data-swiper-slide-index"),10));let i=90*s,o=Math.floor(i/360);l&&(i=-i,o=Math.floor(-i/360));const d=Math.max(Math.min(t.progress,1),-1);let w=0,u=0,y=0;s%4==0?(w=4*-o*n,y=0):(s-1)%4==0?(w=0,y=4*-o*n):(s-2)%4==0?(w=n+4*o*n,y=n):(s-3)%4==0&&(w=-n,y=3*n+4*n*o),l&&(w=-w),f||(u=w,w=0);const g=`rotateX(${p(f?0:-i)}deg) rotateY(${p(f?i:0)}deg) translate3d(${w}px, ${u}px, ${y}px)`;d<=1&&d>-1&&(m=90*s+90*d,l&&(m=90*-s-90*d)),t.style.transform=g,c.slideShadows&&r(t,d,f)}if(s.style.transformOrigin=`50% 50% -${n/2}px`,s.style["-webkit-transform-origin"]=`50% 50% -${n/2}px`,c.shadow)if(f)w.style.transform=`translate3d(0px, ${i/2+c.shadowOffset}px, ${-i/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${c.shadowScale})`;else{const e=Math.abs(m)-90*Math.floor(Math.abs(m)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),s=c.shadowScale,a=c.shadowScale/t,r=c.shadowOffset;w.style.transform=`scale3d(${s}, 1, ${a}) translate3d(0px, ${o/2+r}px, ${-o/2/a}px) rotateX(-89.99deg)`}const u=(d.isSafari||d.isWebView)&&d.needPerspectiveFix?-n/2:0;s.style.transform=`translate3d(0px,0,${u}px) rotateX(${p(t.isHorizontal()?0:m)}deg) rotateY(${p(t.isHorizontal()?-m:0)}deg)`,s.style.setProperty("--swiper-cube-translate-z",`${u}px`)},setTransition:e=>{const{el:s,slides:a}=t;if(a.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=s.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const s=Math.max(Math.min(t.progress,1),-1);r(t,s,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function H(e,t,s){const a=`swiper-slide-shadow${s?`-${s}`:""}${e?` swiper-slide-shadow-${e}`:""}`,r=I(t);let i=r.querySelector(`.${a.split(" ").join(".")}`);return i||(i=R("div",a.split(" ")),r.append(i)),i}function N(e){let{swiper:t,extendParams:s,on:a}=e;s({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(e,s)=>{let a=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),r=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=H("flip",e,t.isHorizontal()?"left":"top")),r||(r=H("flip",e,t.isHorizontal()?"right":"bottom")),a&&(a.style.opacity=Math.max(-s,0)),r&&(r.style.opacity=Math.max(s,0))};X({effect:"flip",swiper:t,on:a,setTranslate:()=>{const{slides:e,rtlTranslate:s}=t,a=t.params.flipEffect,i=Y(t);for(let o=0;o<e.length;o+=1){const l=e[o];let n=l.progress;t.params.flipEffect.limitRotation&&(n=Math.max(Math.min(l.progress,1),-1));const d=l.swiperSlideOffset;let p=-180*n,c=0,f=t.params.cssMode?-d-t.translate:-d,h=0;t.isHorizontal()?s&&(p=-p):(h=f,f=0,c=-p,p=0),l.style.zIndex=-Math.abs(Math.round(n))+e.length,a.slideShadows&&r(l,n);const w=`translate3d(${f}px, ${h}px, 0px) rotateX(${i(c)}deg) rotateY(${i(p)}deg)`;V(a,l).style.transform=w}},setTransition:e=>{const s=t.slides.map((e=>I(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),B({swiper:t,duration:e,transformElements:s})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach((e=>{let s=e.progress;t.params.flipEffect.limitRotation&&(s=Math.max(Math.min(e.progress,1),-1)),r(e,s)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function W(e){let{swiper:t,extendParams:s,on:a}=e;s({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),X({effect:"coverflow",swiper:t,on:a,setTranslate:()=>{const{width:e,height:s,slides:a,slidesSizesGrid:r}=t,i=t.params.coverflowEffect,o=t.isHorizontal(),l=t.translate,n=o?e/2-l:s/2-l,d=o?i.rotate:-i.rotate,p=i.depth,c=Y(t);for(let e=0,t=a.length;e<t;e+=1){const t=a[e],s=r[e],l=(n-t.swiperSlideOffset-s/2)/s,f="function"==typeof i.modifier?i.modifier(l):l*i.modifier;let h=o?d*f:0,w=o?0:d*f,m=-p*Math.abs(f),u=i.stretch;"string"==typeof u&&-1!==u.indexOf("%")&&(u=parseFloat(i.stretch)/100*s);let y=o?0:u*f,g=o?u*f:0,x=1-(1-i.scale)*Math.abs(f);Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(w)<.001&&(w=0),Math.abs(x)<.001&&(x=0);const b=`translate3d(${g}px,${y}px,${m}px)  rotateX(${c(w)}deg) rotateY(${c(h)}deg) scale(${x})`;if(V(i,t).style.transform=b,t.style.zIndex=1-Math.abs(Math.round(f)),i.slideShadows){let e=o?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),s=o?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");e||(e=H("coverflow",t,o?"left":"top")),s||(s=H("coverflow",t,o?"right":"bottom")),e&&(e.style.opacity=f>0?f:0),s&&(s.style.opacity=-f>0?-f:0)}}},setTransition:e=>{t.slides.map((e=>I(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function U(e){let{swiper:t,extendParams:s,on:a}=e;s({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=e=>"string"==typeof e?e:`${e}px`;X({effect:"creative",swiper:t,on:a,setTranslate:()=>{const{slides:e,wrapperEl:s,slidesSizesGrid:a}=t,i=t.params.creativeEffect,{progressMultiplier:o}=i,l=t.params.centeredSlides,n=Y(t);if(l){const e=a[0]/2-t.params.slidesOffsetBefore||0;s.style.transform=`translateX(calc(50% - ${e}px))`}for(let s=0;s<e.length;s+=1){const a=e[s],d=a.progress,p=Math.min(Math.max(a.progress,-i.limitProgress),i.limitProgress);let c=p;l||(c=Math.min(Math.max(a.originalProgress,-i.limitProgress),i.limitProgress));const f=a.swiperSlideOffset,h=[t.params.cssMode?-f-t.translate:-f,0,0],w=[0,0,0];let m=!1;t.isHorizontal()||(h[1]=h[0],h[0]=0);let u={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};p<0?(u=i.next,m=!0):p>0&&(u=i.prev,m=!0),h.forEach(((e,t)=>{h[t]=`calc(${e}px + (${r(u.translate[t])} * ${Math.abs(p*o)}))`})),w.forEach(((e,t)=>{let s=u.rotate[t]*Math.abs(p*o);w[t]=s})),a.style.zIndex=-Math.abs(Math.round(d))+e.length;const y=h.join(", "),g=`rotateX(${n(w[0])}deg) rotateY(${n(w[1])}deg) rotateZ(${n(w[2])}deg)`,x=c<0?`scale(${1+(1-u.scale)*c*o})`:`scale(${1-(1-u.scale)*c*o})`,b=c<0?1+(1-u.opacity)*c*o:1-(1-u.opacity)*c*o,M=`translate3d(${y}) ${g} ${x}`;if(m&&u.shadow||!m){let e=a.querySelector(".swiper-slide-shadow");if(!e&&u.shadow&&(e=H("creative",a)),e){const t=i.shadowPerProgress?p*(1/i.limitProgress):p;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const $=V(i,a);$.style.transform=M,$.style.opacity=b,u.origin&&($.style.transformOrigin=u.origin)}},setTransition:e=>{const s=t.slides.map((e=>I(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),B({swiper:t,duration:e,transformElements:s,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}function _(e){let{swiper:t,extendParams:s,on:a}=e;s({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),X({effect:"cards",swiper:t,on:a,setTranslate:()=>{const{slides:e,activeIndex:s,rtlTranslate:a}=t,r=t.params.cardsEffect,{startTranslate:i,isTouched:o}=t.touchEventsData,l=a?-t.translate:t.translate;for(let n=0;n<e.length;n+=1){const d=e[n],p=d.progress,c=Math.min(Math.max(p,-4),4);let f=d.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(f-=e[0].swiperSlideOffset);let h=t.params.cssMode?-f-t.translate:-f,w=0;const m=-100*Math.abs(c);let u=1,y=-r.perSlideRotate*c,g=r.perSlideOffset-.75*Math.abs(c);const x=t.virtual&&t.params.virtual.enabled?t.virtual.from+n:n,b=(x===s||x===s-1)&&c>0&&c<1&&(o||t.params.cssMode)&&l<i,M=(x===s||x===s+1)&&c<0&&c>-1&&(o||t.params.cssMode)&&l>i;if(b||M){const e=(1-Math.abs((Math.abs(c)-.5)/.5))**.5;y+=-28*c*e,u+=-.5*e,g+=96*e,w=-25*e*Math.abs(c)+"%"}if(h=c<0?`calc(${h}px ${a?"-":"+"} (${g*Math.abs(c)}%))`:c>0?`calc(${h}px ${a?"-":"+"} (-${g*Math.abs(c)}%))`:`${h}px`,!t.isHorizontal()){const e=w;w=h,h=e}const $=c<0?""+(1+(1-u)*c):""+(1-(1-u)*c),E=`\n        translate3d(${h}, ${w}, ${m}px)\n        rotateZ(${r.rotate?a?-y:y:0}deg)\n        scale(${$})\n      `;if(r.slideShadows){let e=d.querySelector(".swiper-slide-shadow");e||(e=H("cards",d)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(c)-.5)/.5,0),1))}d.style.zIndex=-Math.abs(Math.round(p))+e.length;V(r,d).style.transform=E}},setTransition:e=>{const s=t.slides.map((e=>I(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),B({swiper:t,duration:e,transformElements:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}export{_ as EffectCards,W as EffectCoverflow,U as EffectCreative,j as EffectCube,N as EffectFlip,Z as Parallax};