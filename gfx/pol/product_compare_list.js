const ProductCompare=function(){this.highlightIfUnique=t=>{const e=[...document.querySelectorAll(t)];[...new Set(e.map((t=>t.textContent.trim().toLowerCase())))].length>1&&e.forEach((t=>t.classList.add("highlight")))},this.toggleText=t=>{const{toggletxt:e}=t.dataset,o=t.innerHTML.trim();t.innerHTML=e,t.dataset.toggletxt=o},this.onClickDifferences=t=>{this.toggleText(t);const e=document.querySelectorAll("#product_compare_list .highlight");if(e.length)return void e.forEach((t=>{t.classList.remove("highlight")}));document.querySelectorAll("#product_compare_list tr:not(.cmp_product)").forEach((t=>{const e=[...t.querySelectorAll("td")].map((t=>t.textContent.trim().toLowerCase()));[...new Set(e)].length>1&&t.classList.add("highlight")})),this.highlightIfUnique(".list_traits li.producer div"),this.highlightIfUnique(".list_traits li.barcode div")},this.onClickShowHide=t=>{this.toggleText(t);const e=document.querySelectorAll("#product_compare_list tr"),{position:o}=t.dataset;e.forEach((t=>{const e=t.querySelectorAll("td")[+o-1];e&&e.classList.toggle("hideCol")})),setTimeout((()=>{this.checkNavigation()}),300)},this.onClickScroll=t=>{const e=document.getElementById("product_compare_list");if(!e)return;t.classList.contains("prev")?e.scrollBy({left:-200,behavior:"smooth"}):e.scrollBy({left:200,behavior:"smooth"})},this.initEvents=()=>{const t=document.getElementById("product_compare_list_wrapper");if(!t)return;t.addEventListener("click",(t=>{const{target:e}=t;return e.closest(".navigation a")?(t.preventDefault(),void this.onClickScroll(e.closest(".navigation a"))):e.closest('.configure a[href="#differences"]')?(t.preventDefault(),void this.onClickDifferences(e.closest('.configure a[href="#differences"]'))):void(e.closest(".configure_item a[data-position]")&&(t.preventDefault(),this.onClickShowHide(e.closest(".configure_item a[data-position]"))))}));let e=null;t.addEventListener("mousedown",(t=>{const{target:o}=t;o.closest(".navigation a")&&(t.preventDefault(),e=setInterval((()=>{this.onClickScroll(o.closest(".navigation a"))}),200))})),t.addEventListener("mouseup",(t=>{e&&(clearInterval(e),e=null)}));const o=document.getElementById("product_compare_list");o&&o.addEventListener("scroll",this.checkNavigation)},this.checkNavigation=()=>{const t=document.getElementById("product_compare_list_wrapper"),e=document.getElementById("product_compare_list");if(!t||!e)return;const o=e.clientWidth<e.scrollWidth,i=0===e.scrollLeft,s=e.scrollLeft+e.clientWidth>=e.scrollWidth;t.classList.toggle("hasScrollBar",o),t.classList.toggle("hidePrev",i),t.classList.toggle("hideNext",s)},this.init=()=>{this.initEvents(),this.checkNavigation()}};app_shop.fn.productCompare=new ProductCompare,app_shop.run((()=>{app_shop.fn.productCompare.init()}),"all","#product_compare_list_wrapper");